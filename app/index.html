<!doctype html>
<html lang="en" ng-app="habitrpg" ng-controller="RootCtrl">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>HabitRPG</title>
    <link rel="stylesheet" href="shared/css/index.css">
    <link rel="stylesheet" href="styles/beta.css">
    <style>[ng-cloak] {
        display: none
    }</style>
</head>
<body>
<div ng-controller="AuthCtrl">
</div>

<div ng-controller="userAvatarCtrl" class="userAvatar">
    <div>
    <menu type="list">
    <li class="customize-menu">
        <menu label="Head">
            <button type="button" class="m_head_0 customize-option" data-value="m" ng-click="changeSex('m')"></button>
            <button type="button" class="f_head_0 customize-option" data-value="f" ng-click="changeSex('f')"></button>
        </menu>
    </li>

    <li class="customize-menu">
        <menu label="Hair">
            <button type="button" class="{{user.preferences.gender}}_hair_blond customize-option" data-value="blond" ng-click="changeHair('blond')"></button>
            <button type="button" class="{{user.preferences.gender}}_hair_black customize-option" data-value="black" ng-click="changeHair('black')"></button>
            <button type="button" class="{{user.preferences.gender}}_hair_brown customize-option" data-value="brown" ng-click="changeHair('brown')"></button>
            <button type="button" class="{{user.preferences.gender}}_hair_white customize-option" data-value="white" ng-click="changeHair('white')"></button>
        </menu>
    </li>

    <li class="customize-menu">
        <menu label="Skin">
            <button type="button" class="{{user.preferences.gender}}_skin_dead customize-option" data-value="dead"   ng-click="changeSkin('dead')"></button>
            <button type="button" class="{{user.preferences.gender}}_skin_orc customize-option" data-value="orc"     ng-click="changeSkin('orc')"></button>
            <button type="button" class="{{user.preferences.gender}}_skin_asian customize-option" data-value="asian" ng-click="changeSkin('asian')"></button>
            <button type="button" class="{{user.preferences.gender}}_skin_black customize-option" data-value="black" ng-click="changeSkin('black')"></button>
            <button type="button" class="{{user.preferences.gender}}_skin_white customize-option" data-value="white" ng-click="changeSkin('white')"></button>
        </menu>
    </li>

     <li class="customize-menu">
        <menu label="Clothing" ng-show="user.preferences.gender == 'f'">
            <button type="button" class="f_armor_0_v1 customize-option" data-value="v1" ng-click="changeArmor('v1')"></button>
            <button type="button" class="f_armor_0_v2 customize-option" data-value="v2" ng-click="changeArmor('v2')"></button>
        </menu>
    </li>
    </menu>
    <button id="close" ng-click="hideUserAvatar()">Close</button>
    </div>
</div>
<div ng-controller="WrapperCtrl" class="wrapper" hm-swiperight="openMenu()" hm-swipeleft="closeMenu()">
    <nav class="menu" ng-class="{menuopen : menuopen, menuclose : menuclose}">

        <div ng-controller="CharacterCtrl">

            <div class="herobox">
                <div class='character-sprites' ng-click="showUserAvatar()">
                    <span class='{{user.preferences.gender}}_skin_{{user.preferences.skin}}'></span>
                    <span class='{{user.preferences.gender}}_hair_{{user.preferences.hair}}'></span>
                    <span class="{{equipped(user, 'armor')}}"></span>
                    <span class="{{equipped(user, 'head')}}"></span>
                    <span class="{{user.preferences.gender}}_head_0"></span>
                    <span class='{{user.preferences.gender}}_shield_{{user.items.shield}}'></span>
                    <span class='{{user.preferences.gender}}_weapon_{{user.items.weapon}}'></span>
                </div>
            </div>


            <div class="user">
                {{user.auth.local.username}}<br>
                level {{user.stats.lvl}}<br>
                Gold: {{user.stats.gp | gold}}
                Silver: {{user.stats.gp | silver}}
            </div>
            <div style="clear:both"></div>

            <div class="meter animate">
                <span style="width: {{hpPercent(user.stats.hp)}}%"><span></span></span>
            </div>

            <div class="meter animate orange">
                <span style="width: {{expPercent(user.stats.exp, user.stats.lvl)}}%"><span></span></span>
            </div>
        </div>

        <div ng-controller="MenuCtrl">
            <div class="first_block"><b>Navigation</b></div>
            <div ng-repeat="button in nav" class="link">
                <a gf-Tap="toggleMenu()" href="{{button.name}}">{{button.link}}</a>
            </div>
            <div class="first_block_settings"><b>Settings</b></div>
            <div class="link"><a ng-click="toggleMenu()" href="#settings">Settings</a></div>
        </div>

    </nav>
    <div ng-class="{menuopen: menuopen, menuclose: menuclose}">
        <div ng-controller="StatsCtrl">
            <div class="topbar">
                <div id="lines" gf-Tap="toggleMenu()"></div>
                <div>{{queueLength()}}</div>
                <input type="button" value="{{refreshing()}}" gf-Tap="User.log({})">
                <input type="button" value="Online: {{settings.online}}" ng-click="User.online(!settings.online)">
            </div>
        </div>
        <div ng-view></div>
    </div>
</div>

<!-- Exclude these from the build process, minify borks angular dep-inj var names like $scope -->
<!-- See http://docs.angularjs.org/guide/di "$injection Annotation" for when we're ready to deploy -->
<script src="components/angular/angular.js"></script>
<script src="components/angular-resource/angular-resource.js"></script>
<script src="components/angular-cookies/angular-cookies.js"></script>
<script src="components/angular-sanitize/angular-sanitize.js"></script>


<!-- build:js scripts/scripts.js -->

<!-- Vendor -->
<script src="components/underscore/underscore-min.js"></script>
<script src="components/moment/moment.js"></script>
<!--<script src="scripts/vendor/cdv-plugin-fb-connect.js"></script>-->
<script src="scripts/vendor/facebook-js-sdk.js"></script>
<script src="components/jquery/jquery.min.js"></script>
<script src="scripts/vendor/jquery.sortable.js"></script>
<!-- touch events (bower: hammerjs and monospaced/angular-hammer) -->
<script src="components/hammerjs/dist/hammer.min.js"></script>
<script src="components/hammerjs/dist/jquery.hammer.min.js"></script>
<script src="components/angular-hammer/angular-hammer.js"></script>

<!-- HabitRPG Shared -->
<script src="habitrpg-shared/browser/browser.debug.js"></script>
<script src="scripts/vendor/jquery.transit.min.js"></script>

<!-- App -->
<script src="scripts/app.js"></script>
<script src="scripts/controllers/rootCtrl.js"></script>
<script src="scripts/controllers/settingsCtrl.js"></script>
<script src="scripts/filters/filters.js"></script>
<script src="scripts/controllers/tasksCtrl.js"></script>
<script src="scripts/controllers/taskDetailsCtrl.js"></script>
<script src="scripts/directives/taskFocus.js"></script>
<script src="scripts/directives/taskBlur.js"></script>
<script src="scripts/controllers/navCtrl.js"></script>
<script src="scripts/controllers/wrapperCtrl.js"></script>
<script src="scripts/controllers/statsCtrl.js"></script>
<script src="scripts/controllers/characterCtrl.js"></script>
<script src="scripts/controllers/menuCtrl.js"></script>
<script src="scripts/controllers/authCtrl.js"></script>
<script src="scripts/services/userServices.js"></script>
<script src="scripts/services/sharedServices.js"></script>
<script src="scripts/services/authServices.js"></script>
<script src="scripts/services/notificationServices.js"></script>
<script src="scripts/controllers/notificationCtrl.js"></script>
<script src="scripts/controllers/loginCtrl.js"></script>
<script src="scripts/controllers/eventCtrl.js"></script>
<script src="scripts/controllers/userAvatarCtrl.js"></script>
<!-- endbuild -->
</body>
</html>
